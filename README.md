# mpa_3.2_folium_map

### https://echo-golf-oscar-romeo.github.io/mpa_3.2_folium_map/

### Краткое описание
Командная работа по курсу "Методы пространственного анализа". Лабораторная работа 3.2: создание веб-карты с помощью библиотеки Folium

### Состав команды
Богаутдинов Егор, Мирзаева Кама, Шульц Алина

### Краткая информация о городе
Слово chat-gpt:

Кострома, прекрасно расположенная на берегах Волги, вдохновляет своим богатым культурным наследием и историческими достопримечательностями. Этот древний город, основанный в XII веке, является источником гордости для России благодаря своим уникальным архитектурным памятникам и богатой истории.

Известен Костроме монастырь Ипатьевский, где в 1613 году был провозглашен первый царь из династии Романовых, Михаил Федорович. Помимо этого, город славится своими древними деревянными церквями, такими как церковь Ильи Пророка на Покровке и церковь Покрова на Нерли. Эти великолепные сооружения не только воплощают в себе неповторимый дух русской архитектуры, но и напоминают о важности Костромы в истории России. Прогуливаясь по его улочкам, каждый посетитель неизбежно погружается в атмосферу прошлого, восхищаясь великолепием этого уникального места.

### Описание используемых данных с указанием источников
- Данные об объектах культурного наследия (ОКН): предоставлены авторами курса
- Данные о жилых многоквартирных домах: https://аис.фрт.рф/
- Данные геометрии домов и границы города: https://www.openstreetmap.org/
- Данные о функциональном зонировании территории: ... (пока не использовали)
- Картографическая подложка: Carto

### Описание основных методов 
#### Слои:
1. Реализовали построение гексагональной решётки без использования библиотеки h3 с заданным пользователем радиусом. На основе этой сетки построили хороплет карту с количеством ОКН в каждой ячейке
2. Реализовали Маркер-Кластер. Для точечных объектов при приближении добавили всплывающую при наведении подсказку-тултип с изображением, названием объекта и его адресом
3. Добавили административную границу города, выгруженную из ОСМ
4. Добавили ОКН в формате полигонов отдельным слоем для всех точек ОКН, которые пришлись внутрь зданий, выгруженных с краудсорсингового портала ОСМ
5. Добавили тепловую карту с распределением населения. Данные брали только по многоквартирным домам с реформы жкх, что естественно некорректно в случае Костромы, но уже позволит отследить самые густонаселённые районы.

#### Фичи карты:
1. Мини-карта в правом нижнем углу
2. Расширение на весь экран в нижнем левом углу
3. Подробный тултип с фоточкой для точек ОКН 

### О работе
#### Что было самым сложным в работе
Собирать данные из ста источников и подготовить их к представлению на карте
#### Что получилось в работе и вы можете этим гордиться:
1. Много разных слоёв и способов отображения (хитмэп, хороплет, маркер-кластер и др.)
2. Реализовали построение гексагональной решётки без использования библиотеки h3 с заданным пользователем радиусом
3. Добавили изображения в тултип при наведении на точку конкретного объекта
4. Для геокодирования реформы жкх использовали кастомный геокодер на базе Номинатима, который дал 87% корректно геокодированных адресов в Костроме - очень неполхой результат для номинатима, чтобы не тратить токены мапбокса
#### Что не получилось и почему:
1. Не получилось сделать слои включающимися и выключающимися в зависимости от уровня зума, разные методы попробовали, но как-то не нашлось быстрого и простого решения
2. Внутригородских районов нет в ОСМ, поэтому в слое с админ границами только границы города
